(()=>{"use strict";var e={3873:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ExportResultCode=void 0;var r;(function(e){e[e["SUCCESS"]=0]="SUCCESS";e[e["FAILED"]=1]="FAILED"})(r=t.ExportResultCode||(t.ExportResultCode={}))},5294:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;t.BAGGAGE_KEY_PAIR_SEPARATOR="=";t.BAGGAGE_PROPERTIES_SEPARATOR=";";t.BAGGAGE_ITEMS_SEPARATOR=",";t.BAGGAGE_HEADER="baggage";t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;t.BAGGAGE_MAX_TOTAL_LENGTH=8192},7148:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.W3CBaggagePropagator=void 0;const n=r(8720);const i=r(4635);const o=r(5294);const a=r(8527);class W3CBaggagePropagator{inject(e,t,r){const s=n.propagation.getBaggage(e);if(!s||i.isTracingSuppressed(e))return;const c=a.getKeyPairs(s).filter((e=>e.length<=o.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,o.BAGGAGE_MAX_NAME_VALUE_PAIRS);const u=a.serializeKeyPairs(c);if(u.length>0){r.set(t,o.BAGGAGE_HEADER,u)}}extract(e,t,r){const i=r.get(t,o.BAGGAGE_HEADER);if(!i)return e;const s={};if(i.length===0){return e}const c=i.split(o.BAGGAGE_ITEMS_SEPARATOR);c.forEach((e=>{const t=a.parsePairKeyValue(e);if(t){const e={value:t.value};if(t.metadata){e.metadata=t.metadata}s[t.key]=e}}));if(Object.entries(s).length===0){return e}return n.propagation.setBaggage(e,n.propagation.createBaggage(s))}fields(){return[o.BAGGAGE_HEADER]}}t.W3CBaggagePropagator=W3CBaggagePropagator},8527:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;const n=r(8720);const i=r(5294);function serializeKeyPairs(e){return e.reduce(((e,t)=>{const r=`${e}${e!==""?i.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>i.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")}t.serializeKeyPairs=serializeKeyPairs;function getKeyPairs(e){return e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`))}t.getKeyPairs=getKeyPairs;function parsePairKeyValue(e){const t=e.split(i.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const o=r.split(i.BAGGAGE_KEY_PAIR_SEPARATOR);if(o.length!==2)return;const a=decodeURIComponent(o[0].trim());const s=decodeURIComponent(o[1].trim());let c;if(t.length>0){c=n.baggageEntryMetadataFromString(t.join(i.BAGGAGE_PROPERTIES_SEPARATOR))}return{key:a,value:s,metadata:c}}t.parsePairKeyValue=parsePairKeyValue;function parseKeyPairsIntoRecord(e){if(typeof e!=="string"||e.length===0)return{};return e.split(i.BAGGAGE_ITEMS_SEPARATOR).map((e=>parsePairKeyValue(e))).filter((e=>e!==undefined&&e.value.length>0)).reduce(((e,t)=>{e[t.key]=t.value;return e}),{})}t.parseKeyPairsIntoRecord=parseKeyPairsIntoRecord},4424:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.isAttributeValue=t.sanitizeAttributes=void 0;function sanitizeAttributes(e){const t={};if(e==null||typeof e!=="object"){return t}for(const[r,n]of Object.entries(e)){if(isAttributeValue(n)){if(Array.isArray(n)){t[r]=n.slice()}else{t[r]=n}}}return t}t.sanitizeAttributes=sanitizeAttributes;function isAttributeValue(e){if(e==null){return true}if(Array.isArray(e)){return isHomogeneousAttributeValueArray(e)}return isValidPrimitiveAttributeValue(e)}t.isAttributeValue=isAttributeValue;function isHomogeneousAttributeValueArray(e){let t;for(const r of e){if(r==null)continue;if(!t){if(isValidPrimitiveAttributeValue(r)){t=typeof r;continue}return false}if(typeof r===t){continue}return false}return true}function isValidPrimitiveAttributeValue(e){switch(typeof e){case"number":return true;case"boolean":return true;case"string":return true}return false}},2176:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.globalErrorHandler=t.setGlobalErrorHandler=void 0;const n=r(1482);let i=n.loggingErrorHandler();function setGlobalErrorHandler(e){i=e}t.setGlobalErrorHandler=setGlobalErrorHandler;function globalErrorHandler(e){try{i(e)}catch(e){}}t.globalErrorHandler=globalErrorHandler},1482:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.loggingErrorHandler=void 0;const n=r(8720);function loggingErrorHandler(){return e=>{n.diag.error(stringifyException(e))}}t.loggingErrorHandler=loggingErrorHandler;function stringifyException(e){if(typeof e==="string"){return e}else{return JSON.stringify(flattenException(e))}}function flattenException(e){const t={};let r=e;while(r!==null){Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];if(n){t[e]=String(n)}}));r=Object.getPrototypeOf(r)}return t}},8794:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;const n=r(6694);const i=9;const o=Math.pow(10,i);function numberToHrtime(e){const t=e/1e3;const r=Math.trunc(t);const n=Number((t-r).toFixed(i))*o;return[r,n]}function getTimeOrigin(){let e=n.otperformance.timeOrigin;if(typeof e!=="number"){const t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function hrTime(e){const t=numberToHrtime(getTimeOrigin());const r=numberToHrtime(typeof e==="number"?e:n.otperformance.now());let i=t[0]+r[0];let a=t[1]+r[1];if(a>o){a-=o;i+=1}return[i,a]}t.hrTime=hrTime;function timeInputToHrTime(e){if(isTimeInputHrTime(e)){return e}else if(typeof e==="number"){if(e<getTimeOrigin()){return hrTime(e)}else{return numberToHrtime(e)}}else if(e instanceof Date){return numberToHrtime(e.getTime())}else{throw TypeError("Invalid input type")}}t.timeInputToHrTime=timeInputToHrTime;function hrTimeDuration(e,t){let r=t[0]-e[0];let n=t[1]-e[1];if(n<0){r-=1;n+=o}return[r,n]}t.hrTimeDuration=hrTimeDuration;function hrTimeToTimeStamp(e){const t=i;const r=`${"0".repeat(t)}${e[1]}Z`;const n=r.substr(r.length-t-1);const o=new Date(e[0]*1e3).toISOString();return o.replace("000Z",n)}t.hrTimeToTimeStamp=hrTimeToTimeStamp;function hrTimeToNanoseconds(e){return e[0]*o+e[1]}t.hrTimeToNanoseconds=hrTimeToNanoseconds;function hrTimeToMilliseconds(e){return Math.round(e[0]*1e3+e[1]/1e6)}t.hrTimeToMilliseconds=hrTimeToMilliseconds;function hrTimeToMicroseconds(e){return Math.round(e[0]*1e6+e[1]/1e3)}t.hrTimeToMicroseconds=hrTimeToMicroseconds;function isTimeInputHrTime(e){return Array.isArray(e)&&e.length===2&&typeof e[0]==="number"&&typeof e[1]==="number"}t.isTimeInputHrTime=isTimeInputHrTime;function isTimeInput(e){return isTimeInputHrTime(e)||typeof e==="number"||e instanceof Date}t.isTimeInput=isTimeInput},6459:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true})},5985:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.baggageUtils=void 0;i(r(7148),t);i(r(4424),t);i(r(2176),t);i(r(1482),t);i(r(8794),t);i(r(6459),t);i(r(3873),t);i(r(2618),t);t.baggageUtils=r(8527);i(r(6694),t);i(r(6555),t);i(r(3571),t);i(r(8160),t);i(r(732),t);i(r(656),t);i(r(4124),t);i(r(3510),t);i(r(1857),t);i(r(4635),t);i(r(1889),t);i(r(5243),t);i(r(6859),t);i(r(8885),t);i(r(6666),t);i(r(1377),t);i(r(2618),t)},6970:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.validateValue=t.validateKey=void 0;const r="[_0-9a-z-*/]";const n=`[a-z]${r}{0,255}`;const i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`;const o=new RegExp(`^(?:${n}|${i})$`);const a=/^[ -~]{0,255}[!-~]$/;const s=/,|=/;function validateKey(e){return o.test(e)}t.validateKey=validateKey;function validateValue(e){return a.test(e)&&!s.test(e)}t.validateValue=validateValue},6694:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(148),t)},6146:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.RandomIdGenerator=void 0;const r=8;const n=16;class RandomIdGenerator{constructor(){this.generateTraceId=getIdGenerator(n);this.generateSpanId=getIdGenerator(r)}}t.RandomIdGenerator=RandomIdGenerator;const i=Buffer.allocUnsafe(n);function getIdGenerator(e){return function generateId(){for(let t=0;t<e/4;t++){i.writeUInt32BE(Math.random()*2**32>>>0,t*4)}for(let t=0;t<e;t++){if(i[t]>0){break}else if(t===e-1){i[e-1]=1}}return i.toString("hex",0,e)}}},9922:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.getEnv=void 0;const n=r(2037);const i=r(5243);function getEnv(){const e=i.parseEnvironment(process.env);return Object.assign({HOSTNAME:n.hostname()},i.DEFAULT_ENVIRONMENT,e)}t.getEnv=getEnv},7514:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t._globalThis=void 0;t._globalThis=typeof globalThis==="object"?globalThis:global},7546:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.hexToBase64=void 0;function hexToBase64(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2);const i=parseInt(t,16);r+=String.fromCharCode(i)}return Buffer.from(r,"ascii").toString("base64")}t.hexToBase64=hexToBase64},148:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(9922),t);i(r(7514),t);i(r(7546),t);i(r(6146),t);i(r(6170),t);i(r(7823),t);i(r(4909),t)},6170:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.otperformance=void 0;const n=r(4074);t.otperformance=n.performance},7823:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.SDK_INFO=void 0;const n=r(2618);const i=r(3190);t.SDK_INFO={[i.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[i.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[i.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:i.TelemetrySdkLanguageValues.NODEJS,[i.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:n.VERSION}},4909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.unrefTimer=void 0;function unrefTimer(e){e.unref()}t.unrefTimer=unrefTimer},6555:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.CompositePropagator=void 0;const n=r(8720);class CompositePropagator{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[];this._fields=Array.from(new Set(this._propagators.map((e=>typeof e.fields==="function"?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const i of this._propagators){try{i.inject(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}}extract(e,t,r){return this._propagators.reduce(((e,i)=>{try{return i.extract(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}t.CompositePropagator=CompositePropagator},8160:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true})},1889:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.TraceState=void 0;const n=r(6970);const i=32;const o=512;const a=",";const s="=";class TraceState{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+s+this.get(t));return e}),[]).join(a)}_parse(e){if(e.length>o)return;this._internalState=e.split(a).reverse().reduce(((e,t)=>{const r=t.trim();const i=r.indexOf(s);if(i!==-1){const o=r.slice(0,i);const a=r.slice(i+1,t.length);if(n.validateKey(o)&&n.validateValue(a)){e.set(o,a)}else{}}return e}),new Map);if(this._internalState.size>i){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new TraceState;e._internalState=new Map(this._internalState);return e}}t.TraceState=TraceState},3571:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.W3CTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;const n=r(8720);const i=r(4635);const o=r(1889);t.TRACE_PARENT_HEADER="traceparent";t.TRACE_STATE_HEADER="tracestate";const a="00";const s="(?!ff)[\\da-f]{2}";const c="(?![0]{32})[\\da-f]{32}";const u="(?![0]{16})[\\da-f]{16}";const l="[\\da-f]{2}";const _=new RegExp(`^\\s?(${s})-(${c})-(${u})-(${l})(-.*)?\\s?$`);function parseTraceParent(e){const t=_.exec(e);if(!t)return null;if(t[1]==="00"&&t[5])return null;return{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}t.parseTraceParent=parseTraceParent;class W3CTraceContextPropagator{inject(e,r,o){const s=n.trace.getSpanContext(e);if(!s||i.isTracingSuppressed(e)||!n.isSpanContextValid(s))return;const c=`${a}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||n.TraceFlags.NONE).toString(16)}`;o.set(r,t.TRACE_PARENT_HEADER,c);if(s.traceState){o.set(r,t.TRACE_STATE_HEADER,s.traceState.serialize())}}extract(e,r,i){const a=i.get(r,t.TRACE_PARENT_HEADER);if(!a)return e;const s=Array.isArray(a)?a[0]:a;if(typeof s!=="string")return e;const c=parseTraceParent(s);if(!c)return e;c.isRemote=true;const u=i.get(r,t.TRACE_STATE_HEADER);if(u){const e=Array.isArray(u)?u.join(","):u;c.traceState=new o.TraceState(typeof e==="string"?e:undefined)}return n.trace.setSpanContext(e,c)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}}t.W3CTraceContextPropagator=W3CTraceContextPropagator},732:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;const n=r(8720);const i=n.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");var o;(function(e){e["HTTP"]="http"})(o=t.RPCType||(t.RPCType={}));function setRPCMetadata(e,t){return e.setValue(i,t)}t.setRPCMetadata=setRPCMetadata;function deleteRPCMetadata(e){return e.deleteValue(i)}t.deleteRPCMetadata=deleteRPCMetadata;function getRPCMetadata(e){return e.getValue(i)}t.getRPCMetadata=getRPCMetadata},656:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.AlwaysOffSampler=void 0;const n=r(8720);class AlwaysOffSampler{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}t.AlwaysOffSampler=AlwaysOffSampler},4124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.AlwaysOnSampler=void 0;const n=r(8720);class AlwaysOnSampler{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}t.AlwaysOnSampler=AlwaysOnSampler},3510:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.ParentBasedSampler=void 0;const n=r(8720);const i=r(2176);const o=r(656);const a=r(4124);class ParentBasedSampler{constructor(e){var t,r,n,s;this._root=e.root;if(!this._root){i.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured"));this._root=new a.AlwaysOnSampler}this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new a.AlwaysOnSampler;this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new o.AlwaysOffSampler;this._localParentSampled=(n=e.localParentSampled)!==null&&n!==void 0?n:new a.AlwaysOnSampler;this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new o.AlwaysOffSampler}shouldSample(e,t,r,i,o,a){const s=n.trace.getSpanContext(e);if(!s||!n.isSpanContextValid(s)){return this._root.shouldSample(e,t,r,i,o,a)}if(s.isRemote){if(s.traceFlags&n.TraceFlags.SAMPLED){return this._remoteParentSampled.shouldSample(e,t,r,i,o,a)}return this._remoteParentNotSampled.shouldSample(e,t,r,i,o,a)}if(s.traceFlags&n.TraceFlags.SAMPLED){return this._localParentSampled.shouldSample(e,t,r,i,o,a)}return this._localParentNotSampled.shouldSample(e,t,r,i,o,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}t.ParentBasedSampler=ParentBasedSampler},1857:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.TraceIdRatioBasedSampler=void 0;const n=r(8720);class TraceIdRatioBasedSampler{constructor(e=0){this._ratio=e;this._ratio=this._normalize(e);this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:n.isValidTraceId(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){if(typeof e!=="number"||isNaN(e))return 0;return e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=r*8;const i=parseInt(e.slice(n,n+8),16);t=(t^i)>>>0}return t}}t.TraceIdRatioBasedSampler=TraceIdRatioBasedSampler},4635:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;const n=r(8720);const i=n.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function suppressTracing(e){return e.setValue(i,true)}t.suppressTracing=suppressTracing;function unsuppressTracing(e){return e.deleteValue(i)}t.unsuppressTracing=unsuppressTracing;function isTracingSuppressed(e){return e.getValue(i)===true}t.isTracingSuppressed=isTracingSuppressed},5243:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.parseEnvironment=t.DEFAULT_ENVIRONMENT=t.DEFAULT_ATTRIBUTE_COUNT_LIMIT=t.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const n=r(8720);const i=r(8885);const o=",";const a=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function isEnvVarANumber(e){return a.indexOf(e)>-1}const s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function isEnvVarAList(e){return s.indexOf(e)>-1}t.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;t.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:t.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:t.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:t.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:t.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:i.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function parseNumber(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!=="undefined"){const o=Number(r[e]);if(!isNaN(o)){if(o<n){t[e]=n}else if(o>i){t[e]=i}else{t[e]=o}}}}function parseStringList(e,t,r,n=o){const i=r[e];if(typeof i==="string"){t[e]=i.split(n).map((e=>e.trim()))}}const c={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function setLogLevelFromEnv(e,t,r){const n=r[e];if(typeof n==="string"){const r=c[n.toUpperCase()];if(r!=null){t[e]=r}}}function parseEnvironment(e){const r={};for(const n in t.DEFAULT_ENVIRONMENT){const t=n;switch(t){case"OTEL_LOG_LEVEL":setLogLevelFromEnv(t,r,e);break;default:if(isEnvVarANumber(t)){parseNumber(t,r,e)}else if(isEnvVarAList(t)){parseStringList(t,r,e)}else{const n=e[t];if(typeof n!=="undefined"&&n!==null){r[t]=String(n)}}}}return r}t.parseEnvironment=parseEnvironment},3546:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.isPlainObject=void 0;const r="[object Object]";const n="[object Null]";const i="[object Undefined]";const o=Function.prototype;const a=o.toString;const s=a.call(Object);const c=overArg(Object.getPrototypeOf,Object);const u=Object.prototype;const l=u.hasOwnProperty;const _=Symbol?Symbol.toStringTag:undefined;const E=u.toString;function overArg(e,t){return function(r){return e(t(r))}}function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!==r){return false}const t=c(e);if(t===null){return true}const n=l.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&a.call(n)===s}t.isPlainObject=isPlainObject;function isObjectLike(e){return e!=null&&typeof e=="object"}function baseGetTag(e){if(e==null){return e===undefined?i:n}return _&&_ in Object(e)?getRawTag(e):objectToString(e)}function getRawTag(e){const t=l.call(e,_),r=e[_];let n=false;try{e[_]=undefined;n=true}catch(e){}const i=E.call(e);if(n){if(t){e[_]=r}else{delete e[_]}}return i}function objectToString(e){return E.call(e)}},6859:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.merge=void 0;const n=r(3546);const i=20;function merge(...e){let t=e.shift();const r=new WeakMap;while(e.length>0){t=mergeTwoObjects(t,e.shift(),0,r)}return t}t.merge=merge;function takeValue(e){if(isArray(e)){return e.slice()}return e}function mergeTwoObjects(e,t,r=0,n){let o;if(r>i){return undefined}r++;if(isPrimitive(e)||isPrimitive(t)||isFunction(t)){o=takeValue(t)}else if(isArray(e)){o=e.slice();if(isArray(t)){for(let e=0,r=t.length;e<r;e++){o.push(takeValue(t[e]))}}else if(isObject(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];o[n]=takeValue(t[n])}}}else if(isObject(e)){if(isObject(t)){if(!shouldMerge(e,t)){return t}o=Object.assign({},e);const i=Object.keys(t);for(let a=0,s=i.length;a<s;a++){const s=i[a];const c=t[s];if(isPrimitive(c)){if(typeof c==="undefined"){delete o[s]}else{o[s]=c}}else{const i=o[s];const a=c;if(wasObjectReferenced(e,s,n)||wasObjectReferenced(t,s,n)){delete o[s]}else{if(isObject(i)&&isObject(a)){const r=n.get(i)||[];const o=n.get(a)||[];r.push({obj:e,key:s});o.push({obj:t,key:s});n.set(i,r);n.set(a,o)}o[s]=mergeTwoObjects(o[s],c,r,n)}}}}else{o=t}}return o}function wasObjectReferenced(e,t,r){const n=r.get(e[t])||[];for(let r=0,i=n.length;r<i;r++){const i=n[r];if(i.key===t&&i.obj===e){return true}}return false}function isArray(e){return Array.isArray(e)}function isFunction(e){return typeof e==="function"}function isObject(e){return!isPrimitive(e)&&!isArray(e)&&!isFunction(e)&&typeof e==="object"}function isPrimitive(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"||typeof e==="undefined"||e instanceof Date||e instanceof RegExp||e===null}function shouldMerge(e,t){if(!n.isPlainObject(e)||!n.isPlainObject(t)){return false}return true}},8885:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.TracesSamplerValues=void 0;var r;(function(e){e["AlwaysOff"]="always_off";e["AlwaysOn"]="always_on";e["ParentBasedAlwaysOff"]="parentbased_always_off";e["ParentBasedAlwaysOn"]="parentbased_always_on";e["ParentBasedTraceIdRatio"]="parentbased_traceidratio";e["TraceIdRatio"]="traceidratio"})(r=t.TracesSamplerValues||(t.TracesSamplerValues={}))},6666:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.isUrlIgnored=t.urlMatches=void 0;function urlMatches(e,t){if(typeof t==="string"){return e===t}else{return!!e.match(t)}}t.urlMatches=urlMatches;function isUrlIgnored(e,t){if(!t){return false}for(const r of t){if(urlMatches(e,r)){return true}}return false}t.isUrlIgnored=isUrlIgnored},1377:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.isWrapped=void 0;function isWrapped(e){return typeof e==="function"&&typeof e.__original==="function"&&typeof e.__unwrap==="function"&&e.__wrapped===true}t.isWrapped=isWrapped},2618:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.VERSION=void 0;t.VERSION="1.0.1"},4293:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.Resource=void 0;const n=r(3190);const i=r(5985);const o=r(2204);class Resource{constructor(e){this.attributes=e}static empty(){return Resource.EMPTY}static default(){return new Resource({[n.SemanticResourceAttributes.SERVICE_NAME]:o.defaultServiceName(),[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:i.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:i.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:i.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;const t=Object.assign({},this.attributes,e.attributes);return new Resource(t)}}t.Resource=Resource;Resource.EMPTY=new Resource({})},791:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true})},1694:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(4293),t);i(r(2204),t);i(r(2205),t);i(r(791),t)},2204:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(7401),t)},9638:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.defaultServiceName=void 0;function defaultServiceName(){return`unknown_service:${process.argv0}`}t.defaultServiceName=defaultServiceName},9107:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.detectResources=void 0;const n=r(4293);const i=r(8720);const o=r(3837);const detectResources=async(e={})=>{const t=Object.assign(e);const r=await Promise.all((t.detectors||[]).map((async e=>{try{const r=await e.detect(t);i.diag.debug(`${e.constructor.name} found resource.`,r);return r}catch(t){i.diag.debug(`${e.constructor.name} failed: ${t.message}`);return n.Resource.empty()}})));logResources(r);return r.reduce(((e,t)=>e.merge(t)),n.Resource.empty())};t.detectResources=detectResources;const logResources=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){const t=o.inspect(e.attributes,{depth:2,breakLength:Infinity,sorted:true,compact:false});i.diag.verbose(t)}}))}},664:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.envDetector=void 0;const n=r(8720);const i=r(5985);const o=r(3190);const a=r(1694);class EnvDetector{constructor(){this._MAX_LENGTH=255;this._COMMA_SEPARATOR=",";this._LABEL_KEY_VALUE_SPLITTER="=";this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){const t={};const r=i.getEnv();const s=r.OTEL_RESOURCE_ATTRIBUTES;const c=r.OTEL_SERVICE_NAME;if(s){try{const e=this._parseResourceAttributes(s);Object.assign(t,e)}catch(e){n.diag.debug(`EnvDetector failed: ${e.message}`)}}if(c){t[o.SemanticResourceAttributes.SERVICE_NAME]=c}return new a.Resource(t)}_parseResourceAttributes(e){if(!e)return{};const t={};const r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(r.length!==2){continue}let[n,i]=r;n=n.trim();i=i.trim().split('^"|"$').join("");if(!this._isValidAndNotEmpty(n)){throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`)}if(!this._isValid(i)){throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`)}t[n]=i}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){const r=e.charAt(t);if(r<=" "||r>="~"){return false}}return true}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}t.envDetector=new EnvDetector},2253:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.processDetector=void 0;const n=r(8720);const i=r(3190);const o=r(1694);class ProcessDetector{async detect(e){const t={[i.SemanticResourceAttributes.PROCESS_PID]:process.pid,[i.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[i.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[i.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){if(e[i.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||e[i.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||e[i.SemanticResourceAttributes.PROCESS_COMMAND]===""||e[i.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""){n.diag.debug("ProcessDetector failed: Unable to find required process resources. ");return o.Resource.empty()}else{return new o.Resource(Object.assign({},e))}}}t.processDetector=new ProcessDetector},2882:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(664),t);i(r(2253),t)},7401:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(9638),t);i(r(9107),t);i(r(2882),t)},2205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true})},8720:e=>{e.exports=require("next/dist/compiled/@opentelemetry/api")},3190:e=>{e.exports=require("next/dist/compiled/@opentelemetry/semantic-conventions")},2037:e=>{e.exports=require("os")},4074:e=>{e.exports=require("perf_hooks")},3837:e=>{e.exports=require("util")}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r].call(i.exports,i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(1694);module.exports=r})();